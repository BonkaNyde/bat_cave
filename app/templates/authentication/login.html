{% extends 'auth_base.html' %}
{% import 'macros.html' as macro %}
{% block body %}
<!-- Login Page Start Here -->
<div class="container-fluid">
    <div class="row">
        <div class="col-xl-7"><img class="bg-img-cover bg-center" src="{{ url_for('static', filename='assets/images/login/2.jpg') }}"
                alt="loginpage"></div>
        <div class="col-xl-5 p-0">
            <div class="login-card">
                <div>
                    <div>
                        <a class="logo" href="index.html">
                            <img class="img-fluid for-light" src="{{ url_for('static', filename='assets/images/logo/login.png') }}" alt="loginpage">
                        </a>
                    </div>
                    <div class="login-main">
                        <form action="{{ url_for('auth.login') }}" method="post" id="login_form" class="theme-form">
                            {{ form.csrf_token() }}
                            <h4 class="text-center">Sign in to your account</h4>
                            <p class="text-center">Enter your email & password to login</p>
                            <div class="form-group">
                                {{ macro.render_field(form.email, class='form-control') }}
                            </div>
                            <div class="form-group">
                                <label for="{{ form.password.id }}">{{ form.password.label.text }} *</label>
                                <div class="form-input position-relative">
                                    {{ macro.render_field(form.password, with_label=False, class='form-control') }}
                                    <div class="show-hide"><span class="show"></span></div>
                                </div>
                            </div>
                            <div class="form-group mb-0">
                                <div class="checkbox p-0">
                                    {{ macro.render_field(form.remember, with_label=False) }}
                                    <label class="text-muted" for="{{ form.remember.id }}">{{ form.remember.label.text }}</label>
                                </div>
                                <a class="link" href="{{ url_for('auth.forgot_password') }}">Forgot password?</a>
                                <div class="text-end mt-3">
                                    <button class="btn btn-primary btn-block w-100" type="submit">Sign in </button>
                                </div>
                            </div>
                            <div class="login-social-title">
                                <h6>Or Sign in with</h6>
                            </div>
                            <p class="mt-4 mb-0 text-center">Don't have account?
                                <a class="ms-2" href="{{ url_for('auth.signup') }}">Create Account</a>
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- <div class="login-page-wrap">
    <div class="login-social">
        <p>or sign in with</p>
        <ul>
            <li>
                <a href="#" class="bg-fb">
                    <i class="fab fa-facebook-f"></i>
                </a>
            </li>
            <li>
                <a href="{{ url_for('auth.google_login') }}" class="bg-gplus">
                    <i class="fab fa-google-plus-g"></i>
                </a>
            </li>
        </ul>
    </div>
</div> -->
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    $(() => {
        // var base_url = document.location.protocol + '//' + document.domain + ':' + location.port;
        // let login_socket = io.connect(base_url+'/login_soc')
        // $('#login_form').submit(function (e) {
        //     e.preventDefault();
        // console.log(e);
        // let login_form = document.getElementById('login_form');
        // let data_to_submit = new FormData(login_form);
        // var form_object = {};
        // data_to_submit.forEach(function(value, key){
        //     form_object[key] = value;
        // });
        // console.log(form_object);
        // login_socket.emit('login_form', form_object)
        // console.log(data_to_submit.keys())
        // })
        // submited_form = form.onsubmit()
    })
</script>
{% endblock %}